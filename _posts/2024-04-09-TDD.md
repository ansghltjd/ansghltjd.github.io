---
layout: single
title: "[Django] 테스트 주도 개발(TDD)이란?"
---
무언가를 개발할 때 바로 개발하는 것이 아니라 개발하려는 항목에 대한 점검 사항을 테스트코드로 만들고 그 테스트를 통과 시키는 방식으로 개발을 진행하는 방법이다. <br>

### 테스트 주도 개발을 하는이유
<p>프로그램이 복잡해 질수록  기능 사이에 상호 연관성이 점점 늘어나기 때문에 어떤 문제가 발생했을 때  그 문제가 너무 많은 요소들과 얽혀 있다면 곤란한 상황에 빠지게 될 수 있다.
이런 사고를 예방하기 위해 개발을 한 단계 진행할 때마다 테스트를 진행한다.</p>

> 1.테스트 코드 작성 - 만들고 싶은 기능을 점검할 코드 작성

> 2.기능 구현 - 테스트 코드를 만족시킬 수 있게 기능을 구현, 테스트 통과를 최우선으로 한다

> 3.리팩토링 - 기능의 성능향상,재사용성,가독성이 좋은 코드로 개선

<br>

### TDD 사용방법
프로젝트의 test.py 파일에서 작업한다. TestCase를 상속받고 'Test'로 시작하는 클래스를 하나 생성한다. 그안에 test 로 시작하는 함수를 정의한다. 테스트의 내용은 2와 3이 같은지 체크한다.
```python
from django.test impot TestCase

class TestView(TestCase):
    def test_post_list(self):
        self.assertEqual(2,3)
```
터미널에서 python manage.py test를 입력해보면 FAILED가 나온다.
2 != 3이므로 테스트가 실패한다.

### beautifulsoup4 설치
pip install beautifulsoup4 <br>
웹 개발에서는 개발자가 구현한 요소들이 웹 브라우저에 의도한 대로 나타나는지 주로 테스튼한다. HTML로 나타나는 요소를 잘 다루기 위해 해당 라이브러리를 설치한다.

<img src="/img/2024-04-09/TDD1.png">

* TestCase 내에서 기본적으로 설정 되어야하는 내용이 있으면 setup() 함수에서 정의 한다.
* client는 가상사용자라고 생각하면 된다 

<img src="/img/2024-04-09/TDD2.png">

* 사용자가 웹브라우저 '127.0.0.1:8000/blog/'를 입력했다고 가정할 때 그 정보를 response에 담는다. 그리고 요청값이 성공적으로 들어왔는지에 대한 코드를 작성한다.
* 서버에서 요청한 페이지를 찾을 수 없을 때 404 오류를 돌려주고, 성공적으로 돌려줄 때 200을 보내도록 되어있다.

* HTML 요소에 쉽게 접근하기 위해 Beautifulsoup으로 읽어들이고, html.parser 명령어로 파싱한 결과를 soup에 담는다. 그리고 title요소에 있는 text가 'Blog'인지 확인한다