---
layout: single
title: "[Django] FBV와 CBV 기법 차이"
---

## FBV(function based view)
말그대로 함수에 기반을 둔 방법이다. 함수를 직접 만들어서 원하는 기능을 구현할 수 있는 장점이 있다.

```python
from djanogo.shortcuts import render
from .models import Post

def index(request):
    posts = Post.object.all()

    return render(
        request,
        'blog/index.html',
        {
            'posts' : posts,
        }
    )
```

* 장고가 기본으로 제공하는 render()함수를 사용해 템플릿폴더에서 'blog/index.html' 경로를 찾아 방문자에게 보내준다
* Post.object.all()로 모든 Post 레코드를 가져와 posts에 저장한다.
* render 함수안에 posts 라는 이름으로 index.html에서 사용할 모델 변수명을 지정한다.

index.html

```
{% for p in posts %}
    <h3>{{p}}</h3>
    <h3>{{p.title}}</h3>
    <h3>{{p.content}}</h3>
{% endfor %}
```

* 위와 같이 for문을 통해 posts의 레코드값을 하나씩 뽑아와 사용할 수 있다.

## CBV(class based view)
CBV는 장고가 제공하는 클래스를 활용해 구현하는 방법이다. CBV를 이용하면 더 간편하게 페이지를 만들 수 있다.

```python
from .models import Post
from django.views.generic import ListView

class PostList(ListView):
    model = Post
    template_name = 'blog/index.html'
```

* 세 줄이면 FBV 방식을 사용한것과 똑같은 결과를 만들 수 있다. model은 Post다 라고 선언하고 사용할 html 파일을 지정한다. 
* html 에서 사용할 모델 변수명도 따로 지정할 순 있지만 기본값으로 object_list 나 Post 모델을 사용했으니 소문자로 post_list를 사용하면 된다.

```
{% for p in post_list %}
    <h3>{{p}}</h3>
    <h3>{{p.title}}</h3>
    <h3>{{p.content}}</h3>
{% endfor %}
```