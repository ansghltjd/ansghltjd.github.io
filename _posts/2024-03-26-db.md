---
layout: single
title: "DB 데이터 정규화란?"
---

데이터 정규화의 기본목표는 테이블간 중복된 데이터를 허용하지 않는것. 데이터무결성 + 용량 확보

정규화 단계
### [ 제1 정규화 ]
**설명**: 테이블의 컬럼이 하나의 값만 가지도록 분해하는 것이다.
| 대출 ID | 회원 ID | 대출한 도서 |
| --- | --- | --- |
| 1 | 101 | ISBN123,ISBN456 |

"대출 정보 테이블"에서 각 대출 기록이 단일 ISBN만을 포함하도록 조정합니다.

| 대출 ID | 회원 ID | ISBN |
| --- | --- | --- |
| 1 | 101 | ISBN123 |
| 2 | 101 | ISBN456 |

### [ 제2 정규화 ]
**설명**: 제2 정규화란 제1 정규화를 진행한 테이블에 대해 완전 함수 종속을 만족하도록 테이블을 분해하는 것이다. 여기서 완전 함수 종속이라는 것은 기본키의 부분집합이 결정자가 되어선 안된다는 것을 의미한다. 

### 위반 예시

- **대출 정보 테이블**에 대출 ID가 아닌, 회원 ID와 ISBN의 조합을 기본 키로 사용하는 경우. 여기서 대출 날짜는 기본 키 전체에 종속되지만, 회원 이름은 회원 ID에만 종속됩니다. 이는 부분적 종속을 의미합니다.

| 회원 ID | ISBN | 대출 날짜 | 회원 이름 |
| --- | --- | --- | --- |
| 101 | ISBN123 | 2024-03-01 | 홍길동 |
### 해결

- "대출 정보 테이블"에서 부분적 종속을 제거하고, 회원 이름을 "회원 테이블"로 이동시킵니다. 이로써 모든 Non-key 속성이 기본키에 완전히 종속되도록 합니다.
    
**대출 정보 테이블**

| 회원 ID | ISBN | 대출 날짜 |
| --- | --- | --- |
| 101 | ISBN123 | 2024-03-01 |

**회원 테이블**

| 회원 ID | 회원 이름 |
| --- | --- |
| 101 | 홍길동 |    

### [ 제3 정규화]
**설명**:: 2NF를 만족하며, 모든 Non-key속성이 기본키에만 종속되어야 하며, 이행적 종속을 제거합니다. 즉, Non-key 속성이 다른 Non-key 속성에 간접적으로 결정되지 않아야 합니다.
### 위반 예시

- **회원 테이블**에 회원 주소와 주소 우편번호가 있을 때, 우편번호는 주소에 이행적으로 종속됩니다.

| 회원 ID | 회원 이름 | 회원 주소 | 우편번호 |
| --- | --- | --- | --- |
| 101 | 홍길동 | 서울시 강남구  | 12345    |

이 경우, "우편번호"는 "회원 주소"에 의해 간접적으로 결정되므로, 이행적 종속성을 가지고 있어 3NF를 위반합니다.
### 해결

- "회원 테이블"에서 "우편번호"를 분리하여 "주소 테이블"을 만듭니다. 이렇게 하면 각 테이블이 3NF를 만족하게 됩니다.

**회원 테이블**

| 회원 ID | 회원 이름 | 주소 ID |
| --- | --- | --- |
| 101 | 홍길동 | A1 |

**주소 테이블**

| 주소 ID | 회원 주소 | 우편번호 |
| --- | --- | --- |
| A1 | 서울시 강남구 | 12345 |

### [ 보이스-코드 정규형 ]
**설명**: BCNF 정규화란 제3 정규화를 진행한 테이블에 대해 모든 결정자가 후보키가 되도록 테이블을 분해하는 것이다.

 예를 들어, 강의 스케줄에서 교수 ID와 강의 시간이 강의실을 결정한다고 가정해 봅시다. 이 경우, 교수 ID와 강의 시간이 결정자가 되지만, 각각이 후보키는 아닙니다.

